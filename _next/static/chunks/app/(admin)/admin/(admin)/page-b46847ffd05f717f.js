(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4206],{37783:(e,r,t)=>{"use strict";t.d(r,{Aq:()=>i,Ay:()=>n});let s="https://gateway.rustplus.cn";class i{static formatDateTime(e){let r=new Date(e),t=r.getFullYear(),s=String(r.getMonth()+1).padStart(2,"0"),i=String(r.getDate()).padStart(2,"0"),n=String(r.getHours()).padStart(2,"0"),a=String(r.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(s,"-").concat(i," ").concat(n,":").concat(a)}static async copyToClipboard(e,r){let{onSuccess:t,onError:s}=r||{};try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),null==t||t(),!0;let r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{let e=document.execCommand("copy");if(document.body.removeChild(r),e)return null==t||t(),!0}catch(e){throw document.body.removeChild(r),e}return window.prompt("复制失败，请手动复制以下文本:",e),null==t||t(),!0}catch(e){return null==s||s(e instanceof Error?e:Error(String(e))),!1}}static toBoolean(e){return"string"==typeof e?"true"===(e=e.toLowerCase().trim())||"1"===e:!!e}static getGatewayUrl(e){return e.startsWith("/api/pay/")||e.startsWith("/api/notice/")?"".concat(s).concat(e):e.startsWith("/api/")?"".concat(s,"/api/backend").concat(e.slice(4)):"".concat(s).concat(e)}static async backendFetch(e,r){return fetch(i.getGatewayUrl(e),{credentials:"include",...r}).then(e=>403===e.status?(window.location.pathname.startsWith("/login")||(window.location.href="/login"),Promise.reject(Error("Unauthorized"))):e).catch(e=>{throw e})}static getCookie(e){var r,t;let s="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===s.length)return null!=(t=null==(r=s.pop())?void 0:r.split(";").shift())?t:""}static detectDevice(){if("undefined"==typeof navigator)return{isMobile:!1,isWechat:!1,isIOS:!1,isAndroid:!1};let e=navigator.userAgent;return{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),isWechat:/MicroMessenger/i.test(e),isIOS:/iPhone|iPad|iPod/i.test(e),isAndroid:/Android/i.test(e)}}}let n={domain:"rustplus.cn",payWebUrl:"https://pay.rustplus.cn"}},49621:(e,r,t)=>{"use strict";t.d(r,{B:()=>i});class s{emit(e,r){var t;null==(t=this.listeners[e])||t.forEach(e=>e(r))}on(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r)}off(e,r){var t;this.listeners[e]=null==(t=this.listeners[e])?void 0:t.filter(e=>e!==r)}constructor(){this.listeners={}}}let i=new s},51440:(e,r,t)=>{Promise.resolve().then(t.bind(t,97975))},80420:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var s=t(95155),i=t(52619),n=t.n(i),a=t(75442),l=t(63646);t(12115);let o=e=>{let{href:r,children:t,iconSize:i=4,target:o="_blank",underline:d=!1,showIcon:c=!0}=e;return(0,s.jsx)(n(),{href:r,target:o,style:{color:"#818cf8",textDecoration:d?"underline":"none",transition:"color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.color="#a5b4fc"},onMouseLeave:e=>{e.currentTarget.style.color="#818cf8"},children:c?(0,s.jsxs)(l.A,{size:i,children:[(0,s.jsx)(a.A,{}),t]}):t})}},97975:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Y});var s=t(95155);t(92932);var i=t(12115),n=t(19279),a=t(89543),l=t(86133),o=t(81184),d=t(65982),c=t(21038),p=t(785),g=t(36060),x=t(43561),u=t(39286),y=t(39578),h=t(63646),m=t(49073),b=t(15856),f=t(44074),j=t(46878),v=t(32051),A=t(14274),k=t(16638),S=t(43990),w=t(79),B=t(75442),C=t(50329),z=t(90262),R=t(41738),I=t(67641),T=t(97170),E=t(94260),P=t(67153),O=t(46172),N=t(87365),_=t(52492),D=t(48601),F=t(20058),M=t(57544),V=t(37783),G=t(20063),L=t(49621),H=t(80420);let W=V.Aq.backendFetch,{Text:U,Title:q}=n.A,J=e=>{let{onSolve:r,apiEndpoint:t}=e,n=(0,i.useRef)(null);return(0,i.useEffect)(()=>{if(!n.current)return;n.current.innerHTML="";let e=document.createElement("cap-widget");e.setAttribute("data-cap-api-endpoint",t),e.setAttribute("data-cap-i18n-initial-state","我是人类"),e.setAttribute("data-cap-i18n-verifying-label","验证中..."),e.setAttribute("data-cap-i18n-solved-label","验证通过"),e.setAttribute("data-cap-i18n-error-label","验证失败，请重试"),n.current.appendChild(e);let s=e=>{r(e.detail.token)};return e.addEventListener("solve",s),()=>{e.removeEventListener("solve",s),n.current&&(n.current.innerHTML="")}},[t,r]),(0,s.jsx)("div",{ref:n})};function Y(){var e,r,t,n,Y,$,Z,K,Q,X,ee,er,et,es,ei;let en,{message:ea}=a.A.useApp(),el=(0,G.useRouter)(),[eo,ed]=(0,i.useState)({callGroupCount:0,commandLogicCount:0,eventLogicCount:0,switchesCount:0,regularly_reset:"",appid:"",server:null}),[ec,ep]=(0,i.useState)(null),[eg,ex]=(0,i.useState)(!0),[eu,ey]=(0,i.useState)(""),[eh,em]=(0,i.useState)("https://rustplus.cn"),[eb,ef]=(0,i.useState)(!1),[ej,ev]=(0,i.useState)(""),[eA,ek]=(0,i.useState)(null),[eS,ew]=(0,i.useState)(!1),[eB,eC]=(0,i.useState)(!1),[ez,eR]=(0,i.useState)(!1),[eI,eT]=(0,i.useState)(!1),[eE]=l.A.useForm(),[eP,eO]=(0,i.useState)(!1),[eN,e_]=(0,i.useState)(""),[eD,eF]=(0,i.useState)(""),[eM,eV]=(0,i.useState)(!1),[eG,eL]=(0,i.useState)(null),[eH,eW]=(0,i.useState)(0),eU=(0,i.useCallback)(e=>{eL(e)},[]);(0,i.useEffect)(()=>{let e=document.createElement("script");return e.src="/cap-widget.js",e.async=!0,document.head.appendChild(e),()=>{e.parentNode&&e.parentNode.removeChild(e)}},[]);let[eq,eJ]=(0,i.useState)(!1),[eY,e$]=(0,i.useState)(null),[eZ,eK]=(0,i.useState)([]),[eQ,eX]=(0,i.useState)(""),[e0,e1]=(0,i.useState)(""),[e5,e2]=(0,i.useState)(!0),[e8,e4]=(0,i.useState)(null),[e6,e3]=(0,i.useState)(!1),[e9,e7]=(0,i.useState)(null),[re,rr]=(0,i.useState)(!1),[rt,rs]=(0,i.useState)(null),[ri,rn]=(0,i.useState)(0),[ra,rl]=(0,i.useState)(0),[ro,rd]=(0,i.useState)(!1),[rc,rp]=(0,i.useState)("frm"),[rg,rx]=(0,i.useState)(!1),ru=()=>{let e="abcdefghijklmnopqrstuvwxyz",r=Math.floor(5*Math.random())+6,t="";for(let s=0;s<r;s++)t+=e.charAt(Math.floor(Math.random()*e.length));return t},ry=["admin","superadmin","administrator","sysadmin","root","system","server","api","backend","dashboard","login","logout","signin","signout","register","signup","auth","authentication","oauth","password","reset-password","forgot-password","verify","account","home","index","main","welcome","profile","settings","config","configuration","preferences","user","users","member","members","customer","customers"],rh=async()=>{let e=await eE.getFieldValue("password");if(!e||""===e.trim()){ea.success("未修改密码"),eT(!1);return}try{ew(!0);let r=await W("/api/f/setpassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),t=await r.json();200===t.status?(ea.success("密码更新成功"),eE.setFieldsValue({password:""}),eT(!1)):ea.error(t.errmessage||"密码更新失败")}catch(e){console.error("Error updating password:",e)}finally{ew(!1)}},rm=async()=>{try{eC(!0);let e=await eE.validateFields(["path"]),r=await W("/api/f/setappid",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appid:e.path})}),t=await r.json();200===t.status?(ed(r=>({...r,appid:e.path})),ea.success("账号更新成功"),eR(!1)):ea.error(t.errmessage||"账号更新失败")}catch(e){console.error("Error updating path:",e)}finally{eC(!1)}},rb=async()=>{if(!eN.trim())return void ea.warning("请输入用户页账号");if(!eD.trim())return void ea.warning("请输入用户页密码");if(!eG)return void ea.warning("请先完成人机验证");eV(!0);try{let e=await W("/api/o/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({a:eN.trim(),password:eD,capToken:eG})}),r=await e.json();200===r.status?(ea.success("验证成功，正在跳转..."),eO(!1),window.location.href="".concat(eh,"/#/user/").concat(eN.trim())):(ea.error(r.errmessage||"账号或密码错误"),eL(null),eW(e=>e+1))}catch(e){ea.error("网络错误，请稍后重试"),eL(null),eW(e=>e+1)}finally{eV(!1)}};(0,i.useEffect)(()=>{eu&&(e=>{let r=(e=>{try{let r=e.split(".")[0],t=atob(r);return JSON.parse(t).exp||null}catch(e){return null}})(e);if(!r){ef(!1),ev(""),ek(null);return}let t=Math.floor(Date.now()/1e3);ef(t>=r),ek(Math.ceil((r-t)/86400)),ev(new Date(1e3*r).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}))})(eu)},[eu]),(0,i.useEffect)(()=>{let e=()=>rf();return L.B.on("ADMIN_DATA_SERVER_UPDATE",e),()=>{L.B.off("ADMIN_DATA_SERVER_UPDATE",e)}},[]),(0,i.useEffect)(()=>{let e=e=>{rn(e.frmFailCount),rl(e.rustFailCount)};return L.B.on("CONNECTION_STATUS_UPDATE",e),()=>{L.B.off("CONNECTION_STATUS_UPDATE",e)}},[]);let rf=async()=>{try{ex(!0);let[r,t]=await Promise.all([W("/api/f/gethomepageinfo",{method:"POST"}),W("/api/f/getscoreinfo",{method:"POST"})]),s=await r.json();if(200!==s.status)return void ea.error(s.errmessage||"获取数据失败");let i=await t.json();if(200!==i.status)return void ea.error(i.errmessage||"获取数据失败");if(ep(i.data),200===s.status){var e;if(s.data.regularly_reset&&(s.data.regularly_reset=s.data.regularly_reset.replace(/:\d{2}$/,"")),ed(s.data),!s.data.rustToken)return void el.push("/admin/help/rusttoken");if(!s.data.server||0===Object.keys(s.data.server).length)return void el.push("/admin/help/pairserver");if(!s.data.appid)return void el.push("/admin/help/userpage");ey(s.data.rustToken||""),(null==(e=s.data.server)?void 0:e.playerId)&&e1(s.data.server.playerId);try{let e=await W("/api/f/getsteaminfo",{method:"POST"}),r=await e.json();200===r.status?(r.data.steamProfile&&e$(r.data.steamProfile),L.B.emit("HOMEPAGE_DATA_LOADED",{steamProfile:r.data.steamProfile,steamBan:r.data.steamBan,rustToken:s.data.rustToken})):L.B.emit("HOMEPAGE_DATA_LOADED",{rustToken:s.data.rustToken})}catch(e){console.error("获取 Steam 信息失败:",e),L.B.emit("HOMEPAGE_DATA_LOADED",{rustToken:s.data.rustToken})}rk()}}catch(e){ea.error("获取数据失败"),console.error("Error fetching data:",e)}finally{ex(!1)}};(0,i.useEffect)(()=>{em(window.location.origin),rf()},[]),en=0,eu&&en++,eo.server&&en++,eo.appid&&en++;let rj=(e,r)=>0===e?{color:"#10b981",text:"frm"===r?"配对服务正常":"已连接",icon:(0,s.jsx)(f.A,{style:{color:"#10b981",fontSize:14}})}:e>0&&e<=3?{color:"#f59e0b",text:"frm"===r?"配对服务可能异常":"连接可能异常",icon:(0,s.jsx)(j.A,{style:{color:"#f59e0b",fontSize:14}})}:{color:"#ef4444",text:"frm"===r?"配对服务异常":"连接异常",icon:(0,s.jsx)(v.A,{style:{color:"#ef4444",fontSize:14}})},rv=e=>{rp(e),rd(!0)},rA=async()=>{rx(!0);try{let e=await W("/api/f/saverusttoken",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:""})}),r=await e.json();200===r.status?(ea.success("已清空Rust凭证，请重新获取"),rd(!1),el.push("/admin/help/rusttoken")):ea.error(r.errmessage||"操作失败")}catch(e){ea.error("网络错误，请稍后重试")}finally{rx(!1)}},rk=async()=>{try{e2(!0);let e=await W("/api/f/getteammembers",{method:"POST"}),r=await e.json();200===r.status&&(eK(r.data.members||[]),eX(r.data.leaderSteamId||""))}catch(e){console.error("获取队伍成员失败:",e)}finally{e2(!1)}},rS=async()=>{if(e9)try{e4(e9.steamId);let e=await W("/api/f/changecaptain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetSteamId:e9.steamId})}),r=await e.json();200===r.status?(ea.success("已将队长更改为 ".concat(e9.name)),e3(!1),rk()):ea.error(r.errmessage||"更改队长失败")}catch(e){ea.error("更改队长失败")}finally{e4(null)}},rw=[{icon:(0,s.jsx)(A.A,{}),title:"设备配对",desc:"配对游戏服务器",path:"/admin/device",color:"#6366f1"},{icon:(0,s.jsx)(k.A,{}),title:"事件逻辑",desc:"自动化触发规则",path:"/admin/eventlogic",color:"#8b5cf6"},{icon:(0,s.jsx)(S.A,{}),title:"指令逻辑",desc:"自定义指令响应",path:"/admin/commandlogic",color:"#ec4899"},{icon:(0,s.jsx)(w.A,{}),title:"呼叫组",desc:"预设呼叫配置",path:"/admin/callgroup",color:"#10b981"}];return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)(o.A,{gutter:[16,16],style:{marginBottom:20},children:[(0,s.jsx)(d.A,{xs:24,sm:12,lg:8,children:(0,s.jsxs)("div",{style:{padding:"16px 20px",background:"#27272c",borderRadius:14,border:"1px solid ".concat(0===ri?"rgba(16, 185, 129, 0.2)":ri<=3?"rgba(245, 158, 11, 0.2)":"rgba(239, 68, 68, 0.2)"),display:"flex",alignItems:"center",gap:14,cursor:"pointer",transition:"all 0.2s"},onClick:()=>rv("frm"),children:[(0,s.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:0===ri?"rgba(16, 185, 129, 0.15)":ri<=3?"rgba(245, 158, 11, 0.15)":"rgba(239, 68, 68, 0.15)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(B.A,{style:{fontSize:22,color:rj(ri,"frm").color}})}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:"配对服务"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)(U,{strong:!0,style:{fontSize:15,color:rj(ri,"frm").color},children:rj(ri,"frm").text}),rj(ri,"frm").icon]})]})]})}),(0,s.jsx)(d.A,{xs:24,sm:12,lg:8,children:(0,s.jsxs)("div",{style:{padding:"16px 20px",background:"#27272c",borderRadius:14,border:"1px solid rgba(99, 102, 241, 0.2)",display:"flex",alignItems:"center",gap:14,cursor:"pointer"},onClick:()=>L.B.emit("OPEN_STEAM_INFO_MODAL",{}),children:[(null==eY?void 0:eY.avatarfull)?(0,s.jsx)(c.A,{src:eY.avatarfull,size:44,style:{borderRadius:12,flexShrink:0}}):(0,s.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(C.A,{style:{fontSize:22,color:"#fff"}})}),(0,s.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,s.jsx)(U,{strong:!0,style:{fontSize:14,display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(null==eY?void 0:eY.personaname)||"加载中..."}),(0,s.jsx)(U,{type:"secondary",style:{fontSize:12,display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(null==(e=eo.server)?void 0:e.playerId)||"--"})]}),(0,s.jsx)(z.A,{style:{color:"rgba(255,255,255,0.3)",fontSize:14}})]})}),(0,s.jsx)(d.A,{xs:24,sm:24,lg:8,children:(0,s.jsxs)("div",{style:{padding:"16px 20px",background:"linear-gradient(135deg, rgba(16, 185, 129, 0.12) 0%, rgba(5, 150, 105, 0.12) 100%)",borderRadius:14,border:"1px solid rgba(16, 185, 129, 0.25)",display:"flex",alignItems:"center",gap:14,cursor:"pointer"},onClick:()=>el.push("/admin/pay/products?tab=score"),children:[(0,s.jsx)("div",{style:{width:44,height:44,borderRadius:12,background:"rgba(16, 185, 129, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(S.A,{style:{fontSize:22,color:"#10b981"}})}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:"呼叫积分"}),(0,s.jsx)(U,{strong:!0,style:{fontSize:20,color:"#10b981"},children:null!=(es=null==ec?void 0:ec.score)?es:0})]}),(0,s.jsx)(z.A,{style:{color:"#10b981"}})]})})]}),(0,s.jsxs)("div",{style:{marginBottom:20},children:[(0,s.jsx)(U,{strong:!0,style:{fontSize:14,color:"rgba(255,255,255,0.7)",display:"block",marginBottom:12},children:"快捷操作"}),(0,s.jsx)(o.A,{gutter:[12,12],children:rw.map((e,r)=>(0,s.jsx)(d.A,{xs:12,sm:6,children:(0,s.jsxs)("div",{className:"quick-action",onClick:()=>el.push(e.path),style:{padding:"16px 14px",background:"#27272c",borderRadius:12,border:"1px solid rgba(255,255,255,0.08)",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:12},children:[(0,s.jsx)("div",{style:{width:36,height:36,borderRadius:10,background:"linear-gradient(135deg, ".concat(e.color,"20 0%, ").concat(e.color,"10 100%)"),display:"flex",alignItems:"center",justifyContent:"center",color:e.color,fontSize:18},children:e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)(U,{strong:!0,style:{fontSize:13,display:"block"},children:e.title}),(0,s.jsx)(U,{type:"secondary",style:{fontSize:11},children:e.desc})]})]})},r))})]}),(0,s.jsxs)("div",{style:{marginBottom:20},children:[(0,s.jsx)(U,{strong:!0,style:{fontSize:14,color:"rgba(255,255,255,0.7)",display:"block",marginBottom:12},children:"常见问题"}),(0,s.jsxs)(o.A,{gutter:[12,12],children:[(0,s.jsx)(d.A,{xs:24,sm:12,children:(0,s.jsxs)("div",{style:{padding:16,background:"#27272c",borderRadius:12,border:"1px solid rgba(255,255,255,0.08)"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[(0,s.jsx)(A.A,{style:{fontSize:14,color:"#818cf8"}}),(0,s.jsx)(U,{strong:!0,style:{fontSize:13},children:"换服/加开关"})]}),(0,s.jsx)(U,{type:"secondary",style:{fontSize:12,display:"block",marginBottom:10},children:"进入游戏重新配对服务器或添加新开关"}),(0,s.jsx)(p.Ay,{size:"small",onClick:()=>window.open("https://www.rustplus.cn/docs/pdgame.html","_blank"),block:!0,style:{borderRadius:6},children:"查看教程"})]})}),(0,s.jsx)(d.A,{xs:24,sm:12,children:(0,s.jsxs)("div",{style:{padding:16,background:"#27272c",borderRadius:12,border:"1px solid rgba(255,255,255,0.08)"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[(0,s.jsx)(R.A,{style:{fontSize:14,color:"#10b981"}}),(0,s.jsx)(U,{strong:!0,style:{fontSize:13},children:"无响应"})]}),(0,s.jsx)(U,{type:"secondary",style:{fontSize:12,display:"block",marginBottom:10},children:"无法配对服务器或开关，机器人没响应"}),(0,s.jsx)(p.Ay,{size:"small",onClick:()=>L.B.emit("TRIGGER_RECONNECT"),block:!0,style:{borderRadius:6},children:"重新连接"})]})})]})]}),eo.server&&(0,s.jsxs)("div",{style:{marginBottom:24},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[(0,s.jsxs)(q,{level:5,style:{margin:0,color:"rgba(255,255,255,0.85)"},children:[(0,s.jsx)(w.A,{style:{marginRight:8}}),"队伍成员"]}),(0,s.jsx)(p.Ay,{type:"text",icon:(0,s.jsx)(I.A,{}),onClick:rk,loading:e5,size:"small",style:{color:"rgba(255,255,255,0.65)"},children:"刷新"})]}),e5?(0,s.jsxs)("div",{style:{padding:40,textAlign:"center",background:"#27272c",borderRadius:16,border:"1px solid rgba(255,255,255,0.08)"},children:[(0,s.jsx)(g.A,{}),(0,s.jsx)("div",{style:{marginTop:8},children:(0,s.jsx)(U,{type:"secondary",children:"加载中..."})})]}):eZ.length>0?(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:eZ.map(e=>{var r,t,i,n,a,l,o,d,g,y,h;let m=e.steamId===eQ,b=(null==(r=e.steamBan)?void 0:r.VACBanned)||(null!=(y=null==(t=e.steamBan)?void 0:t.NumberOfVACBans)?y:0)>0,f=(null!=(h=null==(i=e.steamBan)?void 0:i.NumberOfGameBans)?h:0)>0,j=null==(n=e.steamBan)?void 0:n.CommunityBanned,v=(null==(a=e.steamProfile)?void 0:a.gameid)&&(null==(l=e.steamProfile)?void 0:l.gameextrainfo);return(0,s.jsxs)("div",{style:{padding:"12px 16px",borderRadius:12,background:"#27272c",border:v?"1px solid rgba(96, 165, 250, 0.3)":b||f||j?"1px solid rgba(239, 68, 68, 0.3)":"1px solid rgba(255,255,255,0.08)",position:"relative",overflow:"hidden",display:"flex",alignItems:"center",gap:14},children:[v&&(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:"url(https://shared.st.dl.eccdnx.com/store_item_assets/steam/apps/".concat(null==(o=e.steamProfile)?void 0:o.gameid,"/header.jpg)"),backgroundSize:"cover",backgroundPosition:"center",opacity:.1,pointerEvents:"none"}}),(0,s.jsxs)("div",{style:{position:"relative",flexShrink:0,zIndex:1},children:[(null==(d=e.steamProfile)?void 0:d.avatarfull)?(0,s.jsx)(c.A,{src:e.steamProfile.avatarfull,size:48,style:{border:e.isOnline?"2px solid #52c41a":"2px solid #595959"}}):(0,s.jsx)(c.A,{icon:(0,s.jsx)(C.A,{}),size:48,style:{backgroundColor:e.isOnline?"#52c41a":"#595959"}}),(0,s.jsx)("div",{style:{position:"absolute",bottom:0,right:0,width:14,height:14,borderRadius:"50%",background:e.isOnline?"#52c41a":"#595959",border:"2px solid #27272c"}})]}),(0,s.jsxs)("div",{style:{flex:1,minWidth:0,zIndex:1},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,flexWrap:"wrap",marginBottom:4},children:[(0,s.jsx)(U,{strong:!0,style:{fontSize:14},children:e.name}),m&&(0,s.jsxs)(x.A,{color:"gold",style:{margin:0,fontSize:10,lineHeight:"16px",padding:"0 5px"},children:[(0,s.jsx)(T.A,{})," 队长"]}),v&&(0,s.jsxs)(x.A,{color:"blue",style:{margin:0,fontSize:10,lineHeight:"16px",padding:"0 5px"},children:["\uD83C\uDFAE ",null==(g=e.steamProfile)?void 0:g.gameextrainfo]})]}),(0,s.jsxs)("div",{style:{fontSize:12,color:"rgba(255,255,255,0.45)",marginBottom:6},children:["SteamID: ",e.steamId]}),e.steamBan&&(0,s.jsxs)("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:[(0,s.jsx)(u.A,{title:b?"".concat(e.steamBan.NumberOfVACBans," 次 VAC 封禁"):"VAC 无封禁",children:(0,s.jsxs)(x.A,{color:b?"error":"success",style:{margin:0,fontSize:10,lineHeight:"16px",padding:"0 5px",opacity:b?1:.7},children:["VAC ",b?e.steamBan.NumberOfVACBans:"✓"]})}),(0,s.jsx)(u.A,{title:f?"".concat(e.steamBan.NumberOfGameBans," 次游戏封禁"):"游戏封禁 无",children:(0,s.jsxs)(x.A,{color:f?"error":"success",style:{margin:0,fontSize:10,lineHeight:"16px",padding:"0 5px",opacity:f?1:.7},children:["游戏 ",f?e.steamBan.NumberOfGameBans:"✓"]})}),(0,s.jsx)(u.A,{title:j?"社区封禁":"社区正常",children:(0,s.jsxs)(x.A,{color:j?"error":"success",style:{margin:0,fontSize:10,lineHeight:"16px",padding:"0 5px",opacity:j?1:.7},children:["社区 ",j?"✗":"✓"]})})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",flexShrink:0,zIndex:1},children:[(0,s.jsx)(u.A,{title:"查看详情",children:(0,s.jsx)(p.Ay,{type:"text",size:"small",icon:(0,s.jsx)(C.A,{}),onClick:()=>{rs(e),rr(!0)},style:{color:"rgba(255,255,255,0.65)"}})}),!m&&(0,s.jsx)(u.A,{title:"设为队长",children:(0,s.jsx)(p.Ay,{type:"text",size:"small",icon:(0,s.jsx)(T.A,{}),onClick:()=>(e=>{if(e0&&eQ&&e0!==eQ)return void ea.error("您不是队长，无法切换队长");e7(e),e3(!0)})(e),loading:e8===e.steamId,disabled:null!==e8,style:{color:"#faad14"}})})]})]},e.steamId)})}):(0,s.jsx)("div",{style:{padding:40,textAlign:"center",background:"#27272c",borderRadius:16,border:"1px solid rgba(255,255,255,0.08)"},children:(0,s.jsx)(U,{type:"secondary",children:"暂无队伍成员数据"})})]}),(0,s.jsxs)(o.A,{gutter:[16,16],children:[(0,s.jsx)(d.A,{xs:24,md:12,children:(0,s.jsxs)(y.A,{title:(0,s.jsxs)(h.A,{children:[(0,s.jsx)(E.A,{}),(0,s.jsx)("span",{children:"服务器信息"}),0===ra?(0,s.jsx)(x.A,{color:"success",style:{margin:0,marginLeft:4,cursor:"pointer"},onClick:()=>rv("rust"),children:"已连接"}):ra<=3?(0,s.jsx)(x.A,{color:"warning",style:{margin:0,marginLeft:4,cursor:"pointer"},onClick:()=>rv("rust"),children:"连接异常"}):(0,s.jsx)(x.A,{color:"error",style:{margin:0,marginLeft:4,cursor:"pointer"},onClick:()=>rv("rust"),children:"连接失败"})]}),loading:eg,extra:(0,s.jsx)(H.A,{href:"https://www.rustplus.cn/docs/pdgame.html",children:"配对教程"}),style:{background:"#27272c",borderRadius:16,border:"1px solid rgba(255,255,255,0.08)",height:"100%",overflow:"hidden",position:"relative"},children:[(null==(r=eo.server)?void 0:r.img)&&(0,s.jsx)("div",{style:{position:"absolute",top:0,right:0,width:"50%",height:"100%",backgroundImage:"url(".concat(eo.server.img,")"),backgroundSize:"cover",backgroundPosition:"center",opacity:.35,maskImage:"linear-gradient(to right, transparent 0%, rgba(0,0,0,0.5) 50%, black 100%)",WebkitMaskImage:"linear-gradient(to right, transparent 0%, rgba(0,0,0,0.5) 50%, black 100%)",pointerEvents:"none"}}),(0,s.jsxs)(h.A,{direction:"vertical",size:16,style:{width:"100%",position:"relative",zIndex:1},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:"服务器名称"}),(0,s.jsx)("div",{style:{marginTop:4,padding:"10px 14px",background:"rgba(255,255,255,0.03)",borderRadius:10},children:(0,s.jsx)(U,{children:(null==(t=eo.server)?void 0:t.name)||"未配置"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:"服务器介绍"}),(0,s.jsx)("div",{style:{marginTop:4,padding:"10px 14px",background:"rgba(255,255,255,0.03)",borderRadius:10,maxHeight:150,overflowY:"auto"},children:(0,s.jsx)(U,{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",display:"block",lineHeight:1.6},children:(null==($=eo.server)||null==(Y=$.desc)||null==(n=Y.replace(/\\n/g,"\n"))?void 0:n.replace(/\\t/g,"  "))||"未配置"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:"清档时间"}),(0,s.jsx)("div",{style:{marginTop:4,padding:"10px 14px",background:"rgba(255,255,255,0.03)",borderRadius:10},children:(0,s.jsx)(U,{children:eo.regularly_reset||"未设置"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:"Rust 凭证状态"}),(0,s.jsx)("div",{style:{marginTop:4,padding:"10px 14px",background:eb?"rgba(239, 68, 68, 0.1)":"rgba(255,255,255,0.03)",borderRadius:10,border:eb?"1px solid rgba(239, 68, 68, 0.2)":"none"},children:eu?(0,s.jsx)(h.A,{children:eb?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.A,{style:{color:"#ef4444"}}),(0,s.jsxs)(U,{style:{color:"#ef4444"},children:["已过期 (",ej,")"]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.A,{style:{color:"#10b981"}}),(0,s.jsxs)(U,{style:{color:"#10b981"},children:["有效期至 ",ej]})]})}):(0,s.jsx)(U,{type:"warning",children:"未绑定"})})]}),(null==(Z=eo.server)?void 0:Z.ip)&&(null==(K=eo.server)?void 0:K.port)&&(0,s.jsxs)("div",{children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:"进服指令"}),(0,s.jsxs)("div",{style:{marginTop:4,padding:"10px 14px",background:"rgba(99, 102, 241, 0.1)",borderRadius:10,border:"1px solid rgba(99, 102, 241, 0.2)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[(0,s.jsxs)(U,{style:{fontFamily:"monospace",color:"#818cf8"},children:["connect ",eo.server.ip,":",eo.server.port]}),(0,s.jsx)(u.A,{title:"复制指令",children:(0,s.jsx)(p.Ay,{type:"primary",size:"small",icon:(0,s.jsx)(P.A,{}),onClick:async()=>{var e,r;await V.Aq.copyToClipboard("connect ".concat(null==(e=eo.server)?void 0:e.ip,":").concat(null==(r=eo.server)?void 0:r.port)),ea.success("进服指令已复制")},style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none"},children:"复制"})})]})]})]})]})}),(0,s.jsx)(d.A,{xs:24,md:12,children:(0,s.jsx)(y.A,{title:(0,s.jsxs)(h.A,{children:[(0,s.jsx)(w.A,{}),(0,s.jsx)("span",{children:"用户页设置"})]}),style:{background:"#27272c",borderRadius:16,border:"1px solid rgba(255,255,255,0.08)",height:"100%"},children:(0,s.jsx)(l.A,{form:eE,layout:"vertical",children:(0,s.jsxs)(h.A,{direction:"vertical",size:16,style:{width:"100%"},children:[(0,s.jsx)("div",{style:{padding:"14px 16px",background:"linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%)",borderRadius:12,border:"1px solid rgba(99, 102, 241, 0.2)"},children:(0,s.jsxs)(h.A,{align:"start",children:[(0,s.jsx)(w.A,{style:{fontSize:20,color:"#818cf8",marginTop:2}}),(0,s.jsxs)("div",{children:[(0,s.jsx)(U,{strong:!0,style:{display:"block",marginBottom:4},children:"队友控制面板"}),(0,s.jsx)(U,{type:"secondary",style:{fontSize:13},children:"将账号和密码分享给队友，让他们通过网页控制您配对的智能开关"})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:4},children:[(0,s.jsxs)(U,{type:"secondary",style:{fontSize:12},children:[(0,s.jsx)(C.A,{style:{marginRight:4}}),"用户页账号"]}),eo.appid&&!ez&&(0,s.jsx)(p.Ay,{type:"link",size:"small",icon:(0,s.jsx)(O.A,{}),onClick:()=>{eR(!0),eE.setFieldsValue({path:eo.appid})},style:{padding:0,height:"auto",color:"#818cf8"},children:"修改"})]}),ez||!eo.appid?(0,s.jsxs)("div",{style:{padding:"12px 14px",background:"rgba(255,255,255,0.03)",borderRadius:10},children:[(0,s.jsx)(l.A.Item,{name:"path",rules:[{validator:(e,r)=>r?r.length>32?Promise.reject(Error("路径长度不能超过32个字符")):ry.includes(r.toLowerCase())?Promise.reject(Error("不能使用保留关键字")):/^[a-zA-Z0-9_-]+$/.test(r)?Promise.resolve():Promise.reject(Error("只能包含字母、数字、_和-")):Promise.reject(Error("请输入用户页路径"))}],style:{marginBottom:8},children:(0,s.jsx)(m.A,{autoComplete:"off",placeholder:"设置用户页账号",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8}})}),(0,s.jsxs)(h.A,{children:[(0,s.jsx)(p.Ay,{type:"primary",size:"small",icon:(0,s.jsx)(N.A,{}),onClick:rm,loading:eB,style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none"},children:"保存"}),(0,s.jsx)(p.Ay,{size:"small",icon:(0,s.jsx)(_.A,{}),onClick:()=>eE.setFieldsValue({path:ru()}),children:"随机"}),eo.appid&&(0,s.jsx)(p.Ay,{size:"small",onClick:()=>eR(!1),children:"取消"})]})]}):(0,s.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,s.jsx)(p.Ay,{type:"primary",icon:(0,s.jsx)(D.A,{}),onClick:async()=>{let e="用户页账号: ".concat(eo.appid,"\n访问地址: ").concat(eh,"/#/user/").concat(eo.appid,"\n\n请在登录页点击「用户页」按钮，输入账号和密码即可访问");await V.Aq.copyToClipboard(e),ea.success("分享信息已复制，发送给队友即可")},style:{flex:1,height:40,borderRadius:10,background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none"},children:"分享用户页"}),(0,s.jsx)(p.Ay,{icon:(0,s.jsx)(z.A,{}),onClick:()=>eO(!0),style:{flex:1,height:40,borderRadius:10,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"访问他人用户页"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:4},children:[(0,s.jsxs)(U,{type:"secondary",style:{fontSize:12},children:[(0,s.jsx)(F.A,{style:{marginRight:4}}),"用户页密码"]}),!eI&&(0,s.jsx)(p.Ay,{type:"link",size:"small",icon:(0,s.jsx)(O.A,{}),onClick:()=>eT(!0),style:{padding:0,height:"auto",color:"#818cf8"},children:"修改"})]}),eI?(0,s.jsxs)("div",{style:{padding:"12px 14px",background:"rgba(255,255,255,0.03)",borderRadius:10},children:[(0,s.jsx)(l.A.Item,{name:"password",rules:[{max:20,message:"密码长度不能超过20个字符"}],style:{marginBottom:8},children:(0,s.jsx)(m.A.Password,{autoComplete:"off",placeholder:"设置新密码（留空则不修改）",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:8}})}),(0,s.jsxs)(h.A,{children:[(0,s.jsx)(p.Ay,{type:"primary",size:"small",icon:(0,s.jsx)(N.A,{}),onClick:rh,loading:eS,style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none"},children:"保存"}),(0,s.jsx)(p.Ay,{size:"small",icon:(0,s.jsx)(_.A,{}),onClick:()=>eE.setFieldsValue({password:ru()}),children:"随机"}),(0,s.jsx)(p.Ay,{size:"small",onClick:()=>{eT(!1),eE.setFieldsValue({password:""})},children:"取消"})]})]}):(0,s.jsx)("div",{style:{padding:"10px 14px",background:"rgba(255,255,255,0.03)",borderRadius:10},children:(0,s.jsx)(U,{type:"secondary",style:{fontSize:13},children:"队友访问用户页时需要输入此密码"})})]}),eo.appid&&(0,s.jsxs)(o.A,{gutter:[12,12],children:[(0,s.jsx)(d.A,{span:12,children:(0,s.jsxs)("div",{style:{padding:"10px 12px",background:"rgba(255,255,255,0.03)",borderRadius:10,textAlign:"center"},children:[(0,s.jsx)(E.A,{style:{fontSize:18,color:"#10b981",marginBottom:4}}),(0,s.jsx)(U,{style:{display:"block",fontSize:12},children:"实时服务器信息"})]})}),(0,s.jsx)(d.A,{span:12,children:(0,s.jsxs)("div",{style:{padding:"10px 12px",background:"rgba(255,255,255,0.03)",borderRadius:10,textAlign:"center"},children:[(0,s.jsx)(S.A,{style:{fontSize:18,color:"#f59e0b",marginBottom:4}}),(0,s.jsx)(U,{style:{display:"block",fontSize:12},children:"远程开关控制"})]})}),(0,s.jsx)(d.A,{span:12,children:(0,s.jsxs)("div",{style:{padding:"10px 12px",background:"rgba(255,255,255,0.03)",borderRadius:10,textAlign:"center"},children:[(0,s.jsx)(C.A,{style:{fontSize:18,color:"#818cf8",marginBottom:4}}),(0,s.jsx)(U,{style:{display:"block",fontSize:12},children:"队员信息"})]})}),(0,s.jsx)(d.A,{span:12,children:(0,s.jsxs)("div",{style:{padding:"10px 12px",background:"rgba(255,255,255,0.03)",borderRadius:10,textAlign:"center"},children:[(0,s.jsx)(M.A,{style:{fontSize:18,color:"#ec4899",marginBottom:4}}),(0,s.jsx)(U,{style:{display:"block",fontSize:12},children:"聊天记录"})]})})]})]})})})})]}),(0,s.jsx)(b.A,{title:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,s.jsx)(T.A,{style:{color:"#faad14",fontSize:20}}),(0,s.jsx)("span",{children:"确认更改队长"})]}),open:e6,onCancel:()=>e3(!1),footer:[(0,s.jsx)(p.Ay,{onClick:()=>e3(!1),style:{borderRadius:6,boxShadow:"none"},children:"取消"},"cancel"),(0,s.jsx)(p.Ay,{type:"primary",loading:null!==e8,onClick:rS,style:{borderRadius:6,boxShadow:"none",background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none"},children:"确认更改"},"confirm")],centered:!0,width:400,children:(0,s.jsxs)("div",{style:{padding:"16px 0"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,padding:16,borderRadius:8,background:"rgba(250, 173, 20, 0.1)",border:"1px solid rgba(250, 173, 20, 0.2)",marginBottom:16},children:[(null==e9||null==(Q=e9.steamProfile)?void 0:Q.avatarfull)?(0,s.jsx)(c.A,{src:e9.steamProfile.avatarfull,size:48}):(0,s.jsx)(c.A,{icon:(0,s.jsx)(C.A,{}),size:48,style:{backgroundColor:"#faad14"}}),(0,s.jsxs)("div",{children:[(0,s.jsx)(U,{strong:!0,style:{fontSize:16,display:"block"},children:null==e9?void 0:e9.name}),(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:null==e9?void 0:e9.steamId})]})]}),(0,s.jsxs)(U,{style:{display:"block",color:"rgba(255,255,255,0.85)"},children:["确定要将队长更改为 ",(0,s.jsx)(U,{strong:!0,style:{color:"#faad14"},children:null==e9?void 0:e9.name})," 吗？"]}),(0,s.jsx)(U,{type:"secondary",style:{display:"block",marginTop:8,fontSize:12},children:"更改后，游戏内会收到通知。"})]})}),(0,s.jsx)(b.A,{title:null,open:re,onCancel:()=>rr(!1),footer:null,centered:!0,width:420,children:(0,s.jsx)("div",{style:{padding:"8px 0"},children:rt?(0,s.jsxs)(s.Fragment,{children:[(null==(X=rt.steamProfile)?void 0:X.gameid)&&(0,s.jsxs)("div",{style:{position:"relative",marginBottom:20,borderRadius:12,overflow:"hidden"},children:[(0,s.jsx)("img",{src:"https://shared.st.dl.eccdnx.com/store_item_assets/steam/apps/".concat(rt.steamProfile.gameid,"/header.jpg"),alt:"Game",style:{width:"100%",height:120,objectFit:"cover",objectPosition:"center"}}),(0,s.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"8px 12px",background:"linear-gradient(transparent, rgba(0,0,0,0.8))"},children:(0,s.jsxs)(x.A,{color:"blue",style:{margin:0},children:["\uD83C\uDFAE 正在游玩: ",rt.steamProfile.gameextrainfo]})})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,marginBottom:20},children:[(0,s.jsxs)("div",{style:{position:"relative"},children:[(null==(ee=rt.steamProfile)?void 0:ee.avatarfull)?(0,s.jsx)(c.A,{src:rt.steamProfile.avatarfull,size:72,style:{border:rt.isOnline?"3px solid #52c41a":"3px solid #595959"}}):(0,s.jsx)(c.A,{icon:(0,s.jsx)(C.A,{}),size:72,style:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)"}}),(0,s.jsx)("div",{style:{position:"absolute",bottom:2,right:2,width:18,height:18,borderRadius:"50%",background:rt.isOnline?"#52c41a":"#595959",border:"3px solid #1f1f23"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4},children:[(0,s.jsx)(U,{strong:!0,style:{fontSize:18},children:rt.name}),rt.steamId===eQ&&(0,s.jsxs)(x.A,{color:"gold",style:{margin:0},children:[(0,s.jsx)(T.A,{})," 队长"]})]}),(0,s.jsx)(U,{type:"secondary",style:{fontSize:13},children:rt.isOnline?"\uD83D\uDFE2 在线":"⚫ 离线"})]})]}),(0,s.jsx)("div",{style:{padding:14,borderRadius:10,background:"rgba(99, 102, 241, 0.08)",border:"1px solid rgba(99, 102, 241, 0.15)",marginBottom:16},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:12,display:"block"},children:"SteamID"}),(0,s.jsx)(U,{style:{fontSize:14,fontFamily:"monospace"},children:rt.steamId})]}),(0,s.jsx)(p.Ay,{type:"text",size:"small",onClick:async()=>{await V.Aq.copyToClipboard(rt.steamId||""),ea.success("已复制 SteamID")},style:{color:"#818cf8"},children:"复制"})]})}),rt.steamBan&&(0,s.jsxs)("div",{style:{padding:14,borderRadius:10,background:rt.steamBan.VACBanned||rt.steamBan.NumberOfGameBans||rt.steamBan.CommunityBanned?"rgba(239, 68, 68, 0.1)":"rgba(16, 185, 129, 0.1)",border:rt.steamBan.VACBanned||rt.steamBan.NumberOfGameBans||rt.steamBan.CommunityBanned?"1px solid rgba(239, 68, 68, 0.2)":"1px solid rgba(16, 185, 129, 0.2)",marginBottom:16},children:[(0,s.jsx)(U,{strong:!0,style:{display:"block",marginBottom:8,color:rt.steamBan.VACBanned||rt.steamBan.NumberOfGameBans||rt.steamBan.CommunityBanned?"#f87171":"#6ee7b7"},children:rt.steamBan.VACBanned||rt.steamBan.NumberOfGameBans||rt.steamBan.CommunityBanned?"⚠️ 存在封禁记录":"✓ 账号状态良好"}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[(0,s.jsxs)("span",{style:{padding:"2px 8px",borderRadius:4,fontSize:12,background:rt.steamBan.VACBanned?"rgba(239, 68, 68, 0.2)":"rgba(16, 185, 129, 0.2)",color:rt.steamBan.VACBanned?"#f87171":"#6ee7b7"},children:["VAC: ",rt.steamBan.NumberOfVACBans||0]}),(0,s.jsxs)("span",{style:{padding:"2px 8px",borderRadius:4,fontSize:12,background:rt.steamBan.NumberOfGameBans?"rgba(239, 68, 68, 0.2)":"rgba(16, 185, 129, 0.2)",color:rt.steamBan.NumberOfGameBans?"#f87171":"#6ee7b7"},children:["游戏封禁: ",rt.steamBan.NumberOfGameBans||0]}),(0,s.jsxs)("span",{style:{padding:"2px 8px",borderRadius:4,fontSize:12,background:rt.steamBan.CommunityBanned?"rgba(239, 68, 68, 0.2)":"rgba(16, 185, 129, 0.2)",color:rt.steamBan.CommunityBanned?"#f87171":"#6ee7b7"},children:["社区: ",rt.steamBan.CommunityBanned?"封禁":"正常"]})]}),(null!=(ei=rt.steamBan.DaysSinceLastBan)?ei:0)>0&&(0,s.jsxs)(U,{type:"secondary",style:{fontSize:11,display:"block",marginTop:6},children:["距上次封禁 ",rt.steamBan.DaysSinceLastBan," 天"]})]}),(null==(er=rt.steamProfile)?void 0:er.timecreated)&&(0,s.jsxs)("div",{style:{padding:14,borderRadius:10,background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.06)",marginBottom:16},children:[(0,s.jsx)(U,{strong:!0,style:{fontSize:13,display:"block",marginBottom:10,color:"rgba(255,255,255,0.85)"},children:"账号信息"}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:13},children:"注册时间"}),(0,s.jsx)(U,{style:{fontSize:13},children:new Date(1e3*rt.steamProfile.timecreated).toLocaleDateString("zh-CN")})]}),rt.steamProfile.loccountrycode&&(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:13},children:"地区"}),(0,s.jsx)(U,{style:{fontSize:13},children:rt.steamProfile.loccountrycode})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsx)(U,{type:"secondary",style:{fontSize:13},children:"账号年龄"}),(0,s.jsxs)(U,{style:{fontSize:13},children:[Math.floor((Date.now()/1e3-rt.steamProfile.timecreated)/31536e3)," 年"]})]})]}),(null==(et=rt.steamProfile)?void 0:et.profileurl)&&(0,s.jsx)(p.Ay,{type:"primary",block:!0,onClick:()=>{var e;return window.open(null==(e=rt.steamProfile)?void 0:e.profileurl,"_blank")},style:{height:40,borderRadius:10,background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none"},children:"查看 Steam 主页"})]}):(0,s.jsx)("div",{style:{textAlign:"center",padding:"20px 0"},children:(0,s.jsx)(g.A,{})})})}),(0,s.jsx)(b.A,{title:(0,s.jsxs)("span",{children:[(0,s.jsx)(z.A,{style:{marginRight:8}}),"访问他人用户页"]}),open:eP,onCancel:()=>{eO(!1),e_(""),eF(""),eL(null),eW(e=>e+1)},footer:null,width:400,children:(0,s.jsxs)("div",{style:{padding:"8px 0"},children:[(0,s.jsx)("div",{style:{padding:"12px 16px",background:"rgba(99, 102, 241, 0.1)",borderRadius:10,border:"1px solid rgba(99, 102, 241, 0.2)",marginBottom:20},children:(0,s.jsx)(U,{style:{color:"rgba(255,255,255,0.85)",fontSize:13,lineHeight:1.6},children:"输入队友分享给您的用户页账号和密码，即可通过网页控制队友配对的智能开关。"})}),(0,s.jsxs)(l.A,{layout:"vertical",children:[(0,s.jsx)(l.A.Item,{label:(0,s.jsx)(U,{type:"secondary",style:{fontSize:13},children:"用户页账号"}),style:{marginBottom:12},children:(0,s.jsx)(m.A,{placeholder:"输入用户页账号",value:eN,onChange:e=>e_(e.target.value),style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,height:44}})}),(0,s.jsx)(l.A.Item,{label:(0,s.jsx)(U,{type:"secondary",style:{fontSize:13},children:"用户页密码"}),style:{marginBottom:12},children:(0,s.jsx)(m.A.Password,{placeholder:"输入用户页密码",value:eD,onChange:e=>eF(e.target.value),style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:10,height:44}})}),(0,s.jsxs)("div",{style:{marginBottom:16},children:[(0,s.jsx)("style",{children:"\n                                cap-widget {\n                                    --cap-background: rgba(255, 255, 255, 0.03);\n                                    --cap-border-color: rgba(255, 255, 255, 0.08);\n                                    --cap-color: rgba(255, 255, 255, 0.85);\n                                    --cap-checkbox-background: rgba(255, 255, 255, 0.05);\n                                    --cap-checkbox-border: 1px solid rgba(255, 255, 255, 0.15);\n                                    --cap-spinner-color: #6366f1;\n                                    --cap-spinner-background-color: rgba(255, 255, 255, 0.1);\n                                    --cap-widget-width: 100%;\n                                    --cap-border-radius: 12px;\n                                }\n                                cap-widget::part(attribution) {\n                                    display: none !important;\n                                }\n                            "}),(0,s.jsx)(J,{onSolve:eU,apiEndpoint:"https://cap.rustplus.cn/336bfb3b1a/"},eH)]}),(0,s.jsx)(p.Ay,{type:"primary",block:!0,loading:eM,disabled:!eG,onClick:rb,style:{height:44,borderRadius:10,background:eG?"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)":"rgba(255,255,255,0.1)",border:"none",fontWeight:500},children:"访问"})]})]})}),(0,s.jsx)(b.A,{title:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:["frm"===rc?(0,s.jsx)(B.A,{style:{color:0===ri?"#10b981":ri>3?"#ef4444":"#f59e0b",fontSize:20}}):(0,s.jsx)(E.A,{style:{color:0===ra?"#10b981":ra>3?"#ef4444":"#f59e0b",fontSize:20}}),(0,s.jsx)("span",{children:"frm"===rc?"配对服务状态":"服务器连接状态"})]}),open:ro,onCancel:()=>rd(!1),footer:null,centered:!0,width:400,children:(0,s.jsxs)("div",{style:{padding:"16px 0"},children:["frm"===rc?(0,s.jsx)(s.Fragment,{children:0===ri?(0,s.jsxs)("div",{style:{padding:16,borderRadius:10,background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",marginBottom:16},children:[(0,s.jsx)(U,{style:{display:"block",color:"#6ee7b7",marginBottom:8},children:"✓ 配对服务运行正常"}),(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:"该状态检测存在一定延迟"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{padding:16,borderRadius:10,background:ri>3?"rgba(239, 68, 68, 0.1)":"rgba(245, 158, 11, 0.1)",border:ri>3?"1px solid rgba(239, 68, 68, 0.2)":"1px solid rgba(245, 158, 11, 0.2)",marginBottom:16},children:[(0,s.jsx)(U,{style:{display:"block",color:ri>3?"#f87171":"#fbbf24",marginBottom:8},children:ri>3?"⚠️ 配对服务异常，无法接收游戏内的配对请求":"⚠️ 配对服务可能存在问题，部分配对请求可能无法接收"}),(0,s.jsxs)(U,{type:"secondary",style:{fontSize:12},children:["失败次数: ",ri]})]}),ri>3?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(U,{style:{display:"block",marginBottom:16,color:"rgba(255,255,255,0.85)"},children:"您的Rust凭证可能已失效，请重新获取凭证以恢复配对服务。"}),(0,s.jsx)(p.Ay,{type:"primary",danger:!0,block:!0,loading:rg,onClick:rA,style:{height:40,borderRadius:10},children:"重新获取Rust凭证"})]}):(0,s.jsx)(U,{style:{display:"block",color:"rgba(255,255,255,0.65)"},children:'系统正在尝试自动恢复，如果问题持续，请尝试点击下方的"重新连接"按钮。'})]})}):(0,s.jsx)(s.Fragment,{children:0===ra?(0,s.jsxs)("div",{style:{padding:16,borderRadius:10,background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)",marginBottom:16},children:[(0,s.jsx)(U,{style:{display:"block",color:"#6ee7b7",marginBottom:8},children:"✓ 服务器连接正常"}),(0,s.jsx)(U,{type:"secondary",style:{fontSize:12},children:"该状态检测存在一定延迟，实际状态以游戏内操作结果为准"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{padding:16,borderRadius:10,background:ra>3?"rgba(239, 68, 68, 0.1)":"rgba(245, 158, 11, 0.1)",border:ra>3?"1px solid rgba(239, 68, 68, 0.2)":"1px solid rgba(245, 158, 11, 0.2)",marginBottom:16},children:[(0,s.jsx)(U,{style:{display:"block",color:ra>3?"#f87171":"#fbbf24",marginBottom:8},children:ra>3?"⚠️ 服务器连接异常，无法获取游戏数据":"⚠️ 服务器连接可能存在问题"}),(0,s.jsxs)(U,{type:"secondary",style:{fontSize:12},children:["失败次数: ",ra]})]}),ra>3?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(U,{style:{display:"block",marginBottom:16,color:"rgba(255,255,255,0.85)"},children:"服务器连接失败，请在游戏内重新配对服务器。"}),(0,s.jsx)(p.Ay,{type:"primary",block:!0,onClick:()=>{rd(!1),window.open("https://www.rustplus.cn/docs/pdgame.html","_blank")},style:{height:40,borderRadius:10,background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",border:"none"},children:"查看配对教程"})]}):(0,s.jsx)(U,{style:{display:"block",color:"rgba(255,255,255,0.65)"},children:'系统正在尝试自动恢复，如果问题持续，请尝试点击下方的"重新连接"按钮。'})]})}),("frm"===rc&&ri>0&&ri<=3||"rust"===rc&&ra>0&&ra<=3)&&(0,s.jsx)(p.Ay,{block:!0,onClick:()=>{rd(!1),L.B.emit("TRIGGER_RECONNECT",{type:rc})},style:{marginTop:16,height:40,borderRadius:10,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)"},children:"重新连接"})]})})]})}}},e=>{e.O(0,[4041,6083,785,6240,9279,2245,9543,6060,5445,4540,9578,9073,6133,6861,8824,2062,2866,8441,1255,7358],()=>e(e.s=51440)),_N_E=e.O()}]);