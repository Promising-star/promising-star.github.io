(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1771],{8622:(e,t,r)=>{Promise.resolve().then(r.bind(r,42092))},20058:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var o=r(12115);let n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};var a=r(26240);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}let l=o.forwardRef((e,t)=>o.createElement(a.A,c({},e,{ref:t,icon:n})))},37783:(e,t,r)=>{"use strict";r.d(t,{Aq:()=>n,Ay:()=>a});let o="http://gateway.rustplus.cn";class n{static formatDateTime(e){let t=new Date(e),r=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return"".concat(r,"-").concat(o,"-").concat(n," ").concat(a,":").concat(c)}static async copyToClipboard(e,t){let{onSuccess:r,onError:o}=t||{};try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),null==r||r(),!0;let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.select();try{let e=document.execCommand("copy");if(document.body.removeChild(t),e)return null==r||r(),!0}catch(e){throw document.body.removeChild(t),e}return window.prompt("复制失败，请手动复制以下文本:",e),null==r||r(),!0}catch(e){return null==o||o(e instanceof Error?e:Error(String(e))),!1}}static toBoolean(e){return"string"==typeof e?"true"===(e=e.toLowerCase().trim())||"1"===e:!!e}static getGatewayUrl(e){return e.startsWith("/api/pay/")||e.startsWith("/api/notice/")?"".concat(o).concat(e):e.startsWith("/api/")?"".concat(o,"/api/backend").concat(e.slice(4)):"".concat(o).concat(e)}static async backendFetch(e,t){return fetch(n.getGatewayUrl(e),{credentials:"include",...t}).then(e=>403===e.status?(window.location.pathname.startsWith("/login")||(window.location.href="/login"),Promise.reject(Error("Unauthorized"))):e).catch(e=>{throw e})}static getCookie(e){var t,r;let o="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===o.length)return null!=(r=null==(t=o.pop())?void 0:t.split(";").shift())?r:""}static detectDevice(){if("undefined"==typeof navigator)return{isMobile:!1,isWechat:!1,isIOS:!1,isAndroid:!1};let e=navigator.userAgent;return{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),isWechat:/MicroMessenger/i.test(e),isIOS:/iPhone|iPad|iPod/i.test(e),isAndroid:/Android/i.test(e)}}}let a={domain:"rustplus.cn",payWebUrl:"https://pay.rustplus.cn"}},42092:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var o=r(95155);r(92932);var n=r(12115),a=r(19279),c=r(89543),l=r(39578),i=r(63646),s=r(43561),d=r(49073),u=r(785),p=r(20058);let{backendFetch:g}=r(37783).Aq,{Text:m}=a.A;function f(){let{message:e}=c.A.useApp(),[t,r]=(0,n.useState)(""),[a,f]=(0,n.useState)(""),[h,y]=(0,n.useState)(""),[b,v]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!0),O=async()=>{try{S(!0);let e=await g("/api/f/getinfo",{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("获取数据失败");let t=await e.json();200===t.status&&(f(t.data.state),y(t.data.activationEndAt)),console.log(t)}catch(t){e.error("获取数据失败"),console.error("Error fetching data:",t)}finally{S(!1)}};(0,n.useEffect)(()=>{O()},[]);let w=async()=>{try{if(v(!0),!t)return void e.warning("请输入激活码");let r=await g("/api/f/useactivationcode",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}),o=await r.json();200===o.status?(e.success("激活成功"),f("active"),y(o.message)):e.error(o.errmessage||"激活失败")}catch(t){e.error("激活失败"),console.error("Error updating password:",t)}finally{v(!1)}},x="active"===a;return(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(l.A,{title:"激活状态",loading:C,children:(0,o.jsxs)(i.A,{size:"middle",align:"center",children:[(0,o.jsx)(s.A,{color:x?"success":"error",style:{fontSize:14,padding:"4px 8px"},children:x?"已激活":"未激活"}),(0,o.jsxs)("div",{style:{marginTop:8},children:[(0,o.jsx)(m,{strong:!0,children:"有效期至: "}),(0,o.jsx)(m,{children:(e=>{let t=new Date(e),r=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),a=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0"),l=String(t.getSeconds()).padStart(2,"0");return"".concat(r,"-").concat(o,"-").concat(n," ").concat(a,":").concat(c,":").concat(l)})(h)})]})]})}),(0,o.jsxs)(l.A,{title:"延长激活有效期",style:{marginTop:20},loading:C,children:[(0,o.jsx)(d.A,{id:"code",autoComplete:"new-code",placeholder:"输入激活码增加激活有效期",value:t,onChange:e=>r(e.target.value)}),(0,o.jsx)(u.Ay,{style:{marginTop:10},type:"primary",icon:(0,o.jsx)(p.A,{}),onClick:w,loading:b,children:"使用激活码"})]})]})}},43561:(e,t,r)=>{"use strict";r.d(t,{A:()=>E});var o=r(12115),n=r(85203),a=r.n(n),c=r(86537),l=r(7147),i=r(5320),s=r(13414),d=r(35042),u=r(1943),p=r(93103),g=r(12383),m=r(94821),f=r(34562),h=r(16780);let y=e=>{let{lineWidth:t,fontSizeIcon:r,calc:o}=e,n=e.fontSizeSM;return(0,f.oX)(e,{tagFontSize:n,tagLineHeight:(0,p.zA)(o(e.lineHeightSM).mul(n).equal()),tagIconSize:o(r).sub(o(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},b=e=>({defaultBg:new g.Y(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),v=(0,h.OF)("Tag",e=>(e=>{let{paddingXXS:t,lineWidth:r,tagPaddingHorizontal:o,componentCls:n,calc:a}=e,c=a(o).sub(r).equal(),l=a(t).sub(r).equal();return{[n]:Object.assign(Object.assign({},(0,m.dF)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:c,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:"".concat((0,p.zA)(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,opacity:1,transition:"all ".concat(e.motionDurationMid),textAlign:"start",position:"relative",["&".concat(n,"-rtl")]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},["".concat(n,"-close-icon")]:{marginInlineStart:l,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),"&:hover":{color:e.colorTextHeading}},["&".concat(n,"-has-color")]:{borderColor:"transparent",["&, a, a:hover, ".concat(e.iconCls,"-close, ").concat(e.iconCls,"-close:hover")]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",["&:not(".concat(n,"-checkable-checked):hover")]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},["> ".concat(e.iconCls," + span, > span + ").concat(e.iconCls)]:{marginInlineStart:c}}),["".concat(n,"-borderless")]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(y(e)),b);var C=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>t.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};let S=o.forwardRef((e,t)=>{let{prefixCls:r,style:n,className:c,checked:l,onChange:i,onClick:s}=e,d=C(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:p,tag:g}=o.useContext(u.QO),m=p("tag",r),[f,h,y]=v(m),b=a()(m,"".concat(m,"-checkable"),{["".concat(m,"-checkable-checked")]:l},null==g?void 0:g.className,c,h,y);return f(o.createElement("span",Object.assign({},d,{ref:t,style:Object.assign(Object.assign({},n),null==g?void 0:g.style),className:b,onClick:e=>{null==i||i(!l),null==s||s(e)}})))});var O=r(1204);let w=(0,h.bf)(["Tag","preset"],e=>(e=>(0,O.A)(e,(t,r)=>{let{textColor:o,lightBorderColor:n,lightColor:a,darkColor:c}=r;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:o,background:a,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:c,borderColor:c},["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}}))(y(e)),b),x=(e,t,r)=>{let o=function(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}(r);return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:e["color".concat(r)],background:e["color".concat(o,"Bg")],borderColor:e["color".concat(o,"Border")],["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}},k=(0,h.bf)(["Tag","status"],e=>{let t=y(e);return[x(t,"success","Success"),x(t,"processing","Info"),x(t,"error","Error"),x(t,"warning","Warning")]},b);var j=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>t.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};let A=o.forwardRef((e,t)=>{let{prefixCls:r,className:n,rootClassName:p,style:g,children:m,icon:f,color:h,onClose:y,bordered:b=!0,visible:C}=e,S=j(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:O,direction:x,tag:A}=o.useContext(u.QO),[E,P]=o.useState(!0),N=(0,c.A)(S,["closeIcon","closable"]);o.useEffect(()=>{void 0!==C&&P(C)},[C]);let T=(0,l.nP)(h),z=(0,l.ZZ)(h),M=T||z,B=Object.assign(Object.assign({backgroundColor:h&&!M?h:void 0},null==A?void 0:A.style),g),I=O("tag",r),[H,F,R]=v(I),W=a()(I,null==A?void 0:A.className,{["".concat(I,"-").concat(h)]:M,["".concat(I,"-has-color")]:h&&!M,["".concat(I,"-hidden")]:!E,["".concat(I,"-rtl")]:"rtl"===x,["".concat(I,"-borderless")]:!b},n,p,F,R),_=e=>{e.stopPropagation(),null==y||y(e),e.defaultPrevented||P(!1)},[,D]=(0,i.A)((0,i.d)(e),(0,i.d)(A),{closable:!1,closeIconRender:e=>{let t=o.createElement("span",{className:"".concat(I,"-close-icon"),onClick:_},e);return(0,s.fx)(e,t,e=>({onClick:t=>{var r;null==(r=null==e?void 0:e.onClick)||r.call(e,t),_(t)},className:a()(null==e?void 0:e.className,"".concat(I,"-close-icon"))}))}}),L="function"==typeof S.onClick||m&&"a"===m.type,q=f||null,U=q?o.createElement(o.Fragment,null,q,m&&o.createElement("span",null,m)):m,G=o.createElement("span",Object.assign({},N,{ref:t,className:W,style:B}),U,D,T&&o.createElement(w,{key:"preset",prefixCls:I}),z&&o.createElement(k,{key:"status",prefixCls:I}));return H(L?o.createElement(d.A,{component:"Tag"},G):G)});A.CheckableTag=S;let E=A},63646:(e,t,r)=>{"use strict";r.d(t,{A:()=>y});var o=r(12115),n=r(85203),a=r.n(n),c=r(46734);function l(e){return["small","middle","large"].includes(e)}function i(e){return!!e&&"number"==typeof e&&!Number.isNaN(e)}var s=r(1943),d=r(51511);let u=o.createContext({latestIndex:0}),p=u.Provider,g=e=>{let{className:t,index:r,children:n,split:a,style:c}=e,{latestIndex:l}=o.useContext(u);return null==n?null:o.createElement(o.Fragment,null,o.createElement("div",{className:t,style:c},n),r<l&&a&&o.createElement("span",{className:"".concat(t,"-split")},a))};var m=r(73513),f=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)0>t.indexOf(o[n])&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(r[o[n]]=e[o[n]]);return r};let h=o.forwardRef((e,t)=>{var r;let{getPrefixCls:n,direction:d,size:u,className:h,style:y,classNames:b,styles:v}=(0,s.TP)("space"),{size:C=null!=u?u:"small",align:S,className:O,rootClassName:w,children:x,direction:k="horizontal",prefixCls:j,split:A,style:E,wrap:P=!1,classNames:N,styles:T}=e,z=f(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[M,B]=Array.isArray(C)?C:[C,C],I=l(B),H=l(M),F=i(B),R=i(M),W=(0,c.A)(x,{keepEmpty:!0}),_=void 0===S&&"horizontal"===k?"center":S,D=n("space",j),[L,q,U]=(0,m.A)(D),G=a()(D,h,q,"".concat(D,"-").concat(k),{["".concat(D,"-rtl")]:"rtl"===d,["".concat(D,"-align-").concat(_)]:_,["".concat(D,"-gap-row-").concat(B)]:I,["".concat(D,"-gap-col-").concat(M)]:H},O,w,U),V=a()("".concat(D,"-item"),null!=(r=null==N?void 0:N.item)?r:b.item),Q=0,Y=W.map((e,t)=>{var r;null!=e&&(Q=t);let n=(null==e?void 0:e.key)||"".concat(V,"-").concat(t);return o.createElement(g,{className:V,key:n,index:t,split:A,style:null!=(r=null==T?void 0:T.item)?r:v.item},e)}),X=o.useMemo(()=>({latestIndex:Q}),[Q]);if(0===W.length)return null;let Z={};return P&&(Z.flexWrap="wrap"),!H&&R&&(Z.columnGap=M),!I&&F&&(Z.rowGap=B),L(o.createElement("div",Object.assign({ref:t,className:G,style:Object.assign(Object.assign(Object.assign({},Z),y),E)},z),o.createElement(p,{value:X},Y)))});h.Compact=d.Ay;let y=h},92932:(e,t,r)=>{"use strict";var o=r(79484),n=r(12669);(0,o.L)(function(e,t){t._reactRoot||(t._reactRoot=(0,n.createRoot)(t));var r=t._reactRoot;return r.render(e),function(){return new Promise(function(e){setTimeout(function(){r.unmount(),e()},0)})}})}},e=>{e.O(0,[4041,6083,785,6240,9279,2245,9543,5445,4540,9073,9578,8441,1255,7358],()=>e(e.s=8622)),_N_E=e.O()}]);